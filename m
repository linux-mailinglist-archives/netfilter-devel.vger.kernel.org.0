Return-Path: <netfilter-devel-owner@vger.kernel.org>
X-Original-To: lists+netfilter-devel@lfdr.de
Delivered-To: lists+netfilter-devel@lfdr.de
Received: from out1.vger.email (out1.vger.email [IPv6:2620:137:e000::1:20])
	by mail.lfdr.de (Postfix) with ESMTP id 7AC5E789812
	for <lists+netfilter-devel@lfdr.de>; Sat, 26 Aug 2023 18:33:49 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S229772AbjHZQcw (ORCPT <rfc822;lists+netfilter-devel@lfdr.de>);
        Sat, 26 Aug 2023 12:32:52 -0400
Received: from lindbergh.monkeyblade.net ([23.128.96.19]:52016 "EHLO
        lindbergh.monkeyblade.net" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S229922AbjHZQcr (ORCPT
        <rfc822;netfilter-devel@vger.kernel.org>);
        Sat, 26 Aug 2023 12:32:47 -0400
Received: from taras.nevrast.org (unknown [IPv6:2a05:d01c:431:aa03:b7e1:333d:ea2a:b14e])
        by lindbergh.monkeyblade.net (Postfix) with ESMTPS id BA6181711
        for <netfilter-devel@vger.kernel.org>; Sat, 26 Aug 2023 09:32:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=azazel.net;
        s=20220717; h=Content-Transfer-Encoding:MIME-Version:Message-Id:Date:Subject:
        To:From:Sender:Reply-To:Cc:Content-Type:Content-ID:Content-Description:
        Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:
        In-Reply-To:References:List-Id:List-Help:List-Unsubscribe:List-Subscribe:
        List-Post:List-Owner:List-Archive;
        bh=5OEkfY/Qc7lBr5FOospE7kCJ2Slz31DRqqp9Fhj3OpI=; b=VmN87U3KXXm4WRtgGq/klaP4fq
        SoOeyBjsT8DglUHb/M40o3rRPPmlW0rkNDnjPeXWqSMCkFZ/6tz6kt2sysuXgQ7WPThtmalPeVI8A
        OF0xwP3MCXdRiDvuxHNZHcEG+wofL3K4J+lJRE3cEInI3ZCQW7Xex+UgsOUd/vL5ohQmeWrRBWLU2
        mY16I9se2TthRC7FV7WKzj9ReVBV1GUY0AABJ9re+R1gDQ2+VjZkhxjJLt0UqjlT/IBuKlVqoHT/B
        rQmqotFv0jkg7JKm3YkK27WLIkjY8Ulz8UAl9GHDLHJpgAsqZwp0gM0IcgcUNg6aTBZbQSjkfnThp
        g/eqBngw==;
Received: from [2001:8b0:135f:bcd1:e0cb:4eff:fedf:e608] (helo=ulthar.dreamlands)
        by taras.nevrast.org with esmtps  (TLS1.3) tls TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384
        (Exim 4.96)
        (envelope-from <jeremy@azazel.net>)
        id 1qZwDJ-00DpTC-0X
        for netfilter-devel@vger.kernel.org;
        Sat, 26 Aug 2023 17:32:41 +0100
From:   Jeremy Sowden <jeremy@azazel.net>
To:     Netfilter Devel <netfilter-devel@vger.kernel.org>
Subject: [PATCH conntrack-tools 0/4] Fixes for yacc parser compilation warnings
Date:   Sat, 26 Aug 2023 17:32:22 +0100
Message-Id: <20230826163226.1104220-1-jeremy@azazel.net>
X-Mailer: git-send-email 2.40.1
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
X-SA-Exim-Connect-IP: 2001:8b0:135f:bcd1:e0cb:4eff:fedf:e608
X-SA-Exim-Mail-From: jeremy@azazel.net
X-SA-Exim-Scanned: No (on taras.nevrast.org); SAEximRunCond expanded to false
X-Spam-Status: No, score=-1.3 required=5.0 tests=BAYES_00,DKIM_SIGNED,
        DKIM_VALID,DKIM_VALID_AU,DKIM_VALID_EF,RDNS_NONE,SPF_HELO_FAIL,
        SPF_PASS autolearn=no autolearn_force=no version=3.4.6
X-Spam-Checker-Version: SpamAssassin 3.4.6 (2021-04-09) on
        lindbergh.monkeyblade.net
Precedence: bulk
List-ID: <netfilter-devel.vger.kernel.org>
X-Mailing-List: netfilter-devel@vger.kernel.org

Certain classes of compiler warnings have in the past been disabled for
the sources generated by yacc and flex because "yacc and lex generate
dirty code", to quote the comment in the Makefile.  However, even if
this may have been the case at one time, currently none of the warnings
being suppressed relate to generated code.

The number of disabled classes was reduced last year:

  https://lore.kernel.org/netfilter-devel/20221124100804.25674-1-pablo@netfilter.org/#r

This patch-set fixes the remaining warnings.

* Patch 1 improves the formatting of src/Makefile.am a bit.
* Patch 2 removes the `-Wno-*` flags.
* Patches 3 & 4 fix the resulting warnings.

Jeremy Sowden (4):
  build: reformat and sort `conntrack_LDADD` and `conntrackd_SOURCES`
  build: stop suppressing warnings for generated sources
  read_config_yy: correct `yyerror` prototype
  read_config_yy: correct arguments passed to `inet_aton`

 src/Makefile.am      | 80 +++++++++++++++++++++++++++++++++-----------
 src/read_config_yy.y | 30 ++++++++++++-----
 2 files changed, 81 insertions(+), 29 deletions(-)

-- 
2.40.1

